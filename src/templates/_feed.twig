<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:g="http://base.google.com/ns/1.0">
  <channel>
    <title>{{ site.name }} - Product Feed</title>
    <link>{{ site.getBaseUrl() }}</link>
    <description>Google Shopping product feed for {{ site.name }}</description>
    {% for item in items %}
      <item>
        <g:id>{{ item.id }}</g:id>
        <g:title><![CDATA[{{ item.title }}]]></g:title>
        <g:description><![CDATA[{{ item.description|striptags|trim }}]]></g:description>
        <g:link>{{ item.link }}</g:link>
        {% if item.image_link is defined and item.image_link %}
          <g:image_link>{{ item.image_link }}</g:image_link>
        {% endif %}
        <g:price>{{ item.price }}</g:price>
        <g:availability>{{ item.availability }}</g:availability>
        <g:condition>{{ item.condition }}</g:condition>
        {% if item.item_group_id is defined and item.item_group_id %}
          <g:item_group_id>{{ item.item_group_id }}</g:item_group_id>
        {% endif %}
        {% if item.brand is defined and item.brand %}
          <g:brand><![CDATA[{{ item.brand }}]]></g:brand>
        {% endif %}
        {% if item.gtin is defined and item.gtin %}
          <g:gtin>{{ item.gtin }}</g:gtin>
        {% endif %}
        {% if item.mpn is defined and item.mpn %}
          <g:mpn>{{ item.mpn }}</g:mpn>
        {% endif %}
        {% if item.identifier_exists is defined %}
          <g:identifier_exists>{{ item.identifier_exists }}</g:identifier_exists>
        {% endif %}
        {% if item.product_type is defined and item.product_type %}
          <g:product_type><![CDATA[{{ item.product_type }}]]></g:product_type>
        {% endif %}
        {% if item.sku is defined and item.sku %}
          <g:sku>{{ item.sku }}</g:sku>
        {% endif %}
        {% if item.google_product_category is defined and item.google_product_category %}
          <g:google_product_category>{{ item.google_product_category }}</g:google_product_category>
        {% endif %}
        {% if item.additional_image_link is defined and item.additional_image_link %}
          {% for image in item.additional_image_link %}
            <g:additional_image_link>{{ image }}</g:additional_image_link>
          {% endfor %}
        {% endif %}
        {% if item.color is defined and item.color %}
          <g:color><![CDATA[{{ item.color }}]]></g:color>
        {% endif %}
        {% if item.size is defined and item.size %}
          <g:size><![CDATA[{{ item.size }}]]></g:size>
        {% endif %}
        {% if item.gender is defined and item.gender %}
          <g:gender><![CDATA[{{ item.gender }}]]></g:gender>
        {% endif %}
        {% if item.age_group is defined and item.age_group %}
          <g:age_group><![CDATA[{{ item.age_group }}]]></g:age_group>
        {% endif %}
        {% if item.material is defined and item.material %}
          <g:material><![CDATA[{{ item.material }}]]></g:material>
        {% endif %}
        {% if item.pattern is defined and item.pattern %}
          <g:pattern><![CDATA[{{ item.pattern }}]]></g:pattern>
        {% endif %}
        {% if item.shipping_weight is defined and item.shipping_weight %}
          <g:shipping_weight>{{ item.shipping_weight }}</g:shipping_weight>
        {% endif %}
        {% if item.shipping_length is defined and item.shipping_length %}
          <g:shipping_length>{{ item.shipping_length }}</g:shipping_length>
        {% endif %}
        {% if item.shipping_width is defined and item.shipping_width %}
          <g:shipping_width>{{ item.shipping_width }}</g:shipping_width>
        {% endif %}
        {% if item.shipping_height is defined and item.shipping_height %}
          <g:shipping_height>{{ item.shipping_height }}</g:shipping_height>
        {% endif %}
        {% if item.sale_price is defined and item.sale_price %}
          <g:sale_price>{{ item.sale_price }}</g:sale_price>
        {% endif %}
        {% if item.expiration_date is defined and item.expiration_date %}
          <g:expiration_date>{{ item.expiration_date }}</g:expiration_date>
        {% endif %}
      </item>
    {% endfor %}
  </channel>
</rss>
